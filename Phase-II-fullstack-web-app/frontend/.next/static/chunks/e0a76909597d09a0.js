(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16867,e=>{"use strict";let t,n;var r=e.i(81243);let o=Object.create(null),i=e=>globalThis.process?.env||globalThis.Deno?.env.toObject()||globalThis.__env__||(e?o:globalThis),s=new Proxy(o,{get:(e,t)=>i()[t]??o[t],has:(e,t)=>t in i()||t in o,set:(e,t,n)=>(i(!0)[t]=n,!0),deleteProperty(e,t){if(!t)return!1;let n=i(!0);return delete n[t],!0},ownKeys:()=>Object.keys(i(!0))});function l(e,t){return void 0!==r.default&&r.default.env?r.default.env[e]??t:"undefined"!=typeof Deno?Deno.env.get(e)??t:"undefined"!=typeof Bun?Bun.env[e]??t:t}void 0!==r.default&&r.default.env,Object.freeze({get BETTER_AUTH_SECRET(){return l("BETTER_AUTH_SECRET")},get AUTH_SECRET(){return l("AUTH_SECRET")},get BETTER_AUTH_TELEMETRY(){return l("BETTER_AUTH_TELEMETRY")},get BETTER_AUTH_TELEMETRY_ID(){return l("BETTER_AUTH_TELEMETRY_ID")},get NODE_ENV(){return l("NODE_ENV","development")},get PACKAGE_VERSION(){return l("PACKAGE_VERSION","0.0.0")},get BETTER_AUTH_TELEMETRY_ENDPOINT(){return l("BETTER_AUTH_TELEMETRY_ENDPOINT","https://telemetry.better-auth.com/v1/track")}});let a={eterm:4,cons25:4,console:4,cygwin:4,dtterm:4,gnome:4,hurd:4,jfbterm:4,konsole:4,kterm:4,mlterm:4,mosh:24,putty:4,st:4,"rxvt-unicode-24bit":24,terminator:24,"xterm-kitty":24},u=new Map(Object.entries({APPVEYOR:8,BUILDKITE:8,CIRCLECI:24,DRONE:8,GITEA_ACTIONS:24,GITHUB_ACTIONS:24,GITLAB_CI:8,TRAVIS:8})),c=[/ansi/,/color/,/linux/,/direct/,/^con[0-9]*x[0-9]/,/^rxvt/,/^screen/,/^xterm/,/^vt100/,/^vt220/],f="\x1b[0m",d="\x1b[31m",p="\x1b[32m",h="\x1b[33m",y="\x1b[34m",v="\x1b[35m",g=["debug","info","success","warn","error"],b={info:y,success:p,warn:h,error:d,debug:v};t=(void 0)??"error",n=1!==function(){if(void 0!==l("FORCE_COLOR"))switch(l("FORCE_COLOR")){case"":case"1":case"true":return 4;case"2":return 8;case"3":return 24;default:return 1}if(void 0!==l("NODE_DISABLE_COLORS")&&""!==l("NODE_DISABLE_COLORS")||void 0!==l("NO_COLOR")&&""!==l("NO_COLOR")||"dumb"===l("TERM"))return 1;if(l("TMUX"))return 24;if("TF_BUILD"in s&&"AGENT_NAME"in s)return 4;if("CI"in s){for(let{0:e,1:t}of u)if(e in s)return t;return"codeship"===l("CI_NAME")?8:1}if("TEAMCITY_VERSION"in s)return null!==/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.exec(l("TEAMCITY_VERSION"))?4:1;switch(l("TERM_PROGRAM")){case"iTerm.app":if(!l("TERM_PROGRAM_VERSION")||null!==/^[0-2]\./.exec(l("TERM_PROGRAM_VERSION")))return 8;return 24;case"HyperTerm":case"MacTerm":return 24;case"Apple_Terminal":return 8}if("truecolor"===l("COLORTERM")||"24bit"===l("COLORTERM"))return 24;if(l("TERM")){if(null!==/truecolor/.exec(l("TERM")))return 24;if(null!==/^xterm-256/.exec(l("TERM")))return 8;let e=l("TERM").toLowerCase();if(a[e])return a[e];if(c.some(t=>null!==t.exec(e)))return 4}return l("COLORTERM")?4:1}(),Object.fromEntries(g.map(e=>[e,(...[r,...o])=>((e,r,o=[])=>{let i;if(!(g.indexOf(e)>=g.indexOf(t)))return;let s=(i=new Date().toISOString(),n?`\x1b[2m${i}${f} ${b[e]}${e.toUpperCase()}${f} \x1b[1m[Better Auth]:${f} ${r}`:`${i} ${e.toUpperCase()} [Better Auth]: ${r}`);"error"===e?console.error(s,...o):"warn"===e?console.warn(s,...o):console.log(s,...o)})(e,r,o)]));var m=class extends Error{constructor(e,t){super(e),this.name="BetterAuthError",this.message=e,this.cause=t,this.stack=""}};function w(e,t="/api/auth"){try{let t=new URL(e);if("http:"!==t.protocol&&"https:"!==t.protocol)throw new m(`Invalid base URL: ${e}. URL must include 'http://' or 'https://'`)}catch(t){if(t instanceof m)throw t;throw new m(`Invalid base URL: ${e}. Please provide a valid base URL.`,String(t))}if(function(e){try{return"/"!==(new URL(e).pathname.replace(/\/+$/,"")||"/")}catch{throw new m(`Invalid base URL: ${e}. Please provide a valid base URL.`)}}(e))return e;let n=e.replace(/\/+$/,"");return t&&"/"!==t?(t=t.startsWith("/")?t:`/${t}`,`${n}${t}`):n}let E={id:"redirect",name:"Redirect",hooks:{onSuccess(e){if(e.data?.url&&e.data?.redirect&&"undefined"!=typeof window&&window.location&&window.location)try{window.location.href=e.data.url}catch{}}}},T={proto:/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,constructor:/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,protoShort:/"__proto__"\s*:/,constructorShort:/"constructor"\s*:/},R=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/,O={true:!0,false:!1,null:null,undefined:void 0,nan:NaN,infinity:1/0,"-infinity":-1/0},S=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d{1,7}))?(?:Z|([+-])(\d{2}):(\d{2}))$/,_=[],P=0,L=0,A=e=>{let t=[],n={get:()=>(n.lc||n.listen(()=>{})(),n.value),lc:0,listen:e=>(n.lc=t.push(e),()=>{for(let t=P+4;t<_.length;)_[t]===e?_.splice(t,4):t+=4;let r=t.indexOf(e);~r&&(t.splice(r,1),--n.lc||n.off())}),notify(e,r){L++;let o=!_.length;for(let o of t)_.push(o,n.value,e,r);if(o){for(P=0;P<_.length;P+=4)_[P](_[P+1],_[P+2],_[P+3]);_.length=0}},off(){},set(e){let t=n.value;t!==e&&(n.value=e,n.notify(t))},subscribe(e){let t=n.listen(e);return e(n.value),t},value:e};return n},U=(e,t)=>{var n,r;return n=n=>{let r=t(n);r&&e.events[6].push(r)},r=t=>{let n=e.listen;e.listen=(...r)=>(e.lc||e.active||(e.active=!0,t()),n(...r));let r=e.off;return e.events[6]=[],e.off=()=>{r(),setTimeout(()=>{if(e.active&&!e.lc){for(let t of(e.active=!1,e.events[6]))t();e.events[6]=[]}},1e3)},()=>{e.listen=n,e.off=r}},e.events=e.events||{},e.events[15]||(e.events[15]=r(t=>{e.events[5].reduceRight((e,t)=>(t(e),e),{shared:{},...t})})),e.events[5]=e.events[5]||[],e.events[5].push(n),()=>{let t=e.events[5],r=t.indexOf(n);t.splice(r,1),t.length||(delete e.events[5],e.events[15](),delete e.events[15])}},I=()=>"undefined"==typeof window,x=Symbol.for("better-auth:broadcast-channel");var j=class{listeners=new Set;name;constructor(e="better-auth.message"){this.name=e}subscribe(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}post(e){if("undefined"!=typeof window)try{localStorage.setItem(this.name,JSON.stringify({...e,timestamp:Math.floor(Date.now()/1e3)}))}catch{}}setup(){if("undefined"==typeof window||void 0===window.addEventListener)return()=>{};let e=e=>{if(e.key!==this.name)return;let t=JSON.parse(e.newValue??"{}");t?.event==="session"&&t?.data&&this.listeners.forEach(e=>e(t))};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}}};function C(e="better-auth.message"){return globalThis[x]||(globalThis[x]=new j(e)),globalThis[x]}let N=Symbol.for("better-auth:focus-manager");var $=class{listeners=new Set;subscribe(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}setFocused(e){this.listeners.forEach(t=>t(e))}setup(){if("undefined"==typeof window||"undefined"==typeof document||void 0===window.addEventListener)return()=>{};let e=()=>{"visible"===document.visibilityState&&this.setFocused(!0)};return document.addEventListener("visibilitychange",e,!1),()=>{document.removeEventListener("visibilitychange",e,!1)}}};function M(){return globalThis[N]||(globalThis[N]=new $),globalThis[N]}let k=Symbol.for("better-auth:online-manager");var B=class{listeners=new Set;isOnline="undefined"==typeof navigator||navigator.onLine;subscribe(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}setOnline(e){this.isOnline=e,this.listeners.forEach(t=>t(e))}setup(){if("undefined"==typeof window||void 0===window.addEventListener)return()=>{};let e=()=>this.setOnline(!0),t=()=>this.setOnline(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",e,!1),window.removeEventListener("offline",t,!1)}}};function D(){return globalThis[k]||(globalThis[k]=new B),globalThis[k]}let q=()=>Math.floor(Date.now()/1e3);var F=Object.defineProperty,H=Object.defineProperties,W=Object.getOwnPropertyDescriptors,G=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,J=(e,t,n)=>t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z=(e,t)=>{for(var n in t||(t={}))V.call(t,n)&&J(e,n,t[n]);if(G)for(var n of G(t))K.call(t,n)&&J(e,n,t[n]);return e},Y=(e,t)=>H(e,W(t)),X=class extends Error{constructor(e,t,n){super(t||e.toString(),{cause:n}),this.status=e,this.statusText=t,this.error=n,Error.captureStackTrace(this,this.constructor)}},Z=async(e,t)=>{var n,r,o,i,s,l;let a=t||{},u={onRequest:[null==t?void 0:t.onRequest],onResponse:[null==t?void 0:t.onResponse],onSuccess:[null==t?void 0:t.onSuccess],onError:[null==t?void 0:t.onError],onRetry:[null==t?void 0:t.onRetry]};if(!t||!(null==t?void 0:t.plugins))return{url:e,options:a,hooks:u};for(let c of(null==t?void 0:t.plugins)||[]){if(c.init){let r=await (null==(n=c.init)?void 0:n.call(c,e.toString(),t));a=r.options||a,e=r.url}u.onRequest.push(null==(r=c.hooks)?void 0:r.onRequest),u.onResponse.push(null==(o=c.hooks)?void 0:o.onResponse),u.onSuccess.push(null==(i=c.hooks)?void 0:i.onSuccess),u.onError.push(null==(s=c.hooks)?void 0:s.onError),u.onRetry.push(null==(l=c.hooks)?void 0:l.onRetry)}return{url:e,options:a,hooks:u}},Q=class{constructor(e){this.options=e}shouldAttemptRetry(e,t){return this.options.shouldRetry?Promise.resolve(e<this.options.attempts&&this.options.shouldRetry(t)):Promise.resolve(e<this.options.attempts)}getDelay(){return this.options.delay}},ee=class{constructor(e){this.options=e}shouldAttemptRetry(e,t){return this.options.shouldRetry?Promise.resolve(e<this.options.attempts&&this.options.shouldRetry(t)):Promise.resolve(e<this.options.attempts)}getDelay(e){return Math.min(this.options.maxDelay,this.options.baseDelay*2**e)}},et=async e=>{let t={},n=async e=>"function"==typeof e?await e():e;if(null==e?void 0:e.auth){if("Bearer"===e.auth.type){let r=await n(e.auth.token);if(!r)return t;t.authorization=`Bearer ${r}`}else if("Basic"===e.auth.type){let[r,o]=await Promise.all([n(e.auth.username),n(e.auth.password)]);if(!r||!o)return t;t.authorization=`Basic ${btoa(`${r}:${o}`)}`}else if("Custom"===e.auth.type){let[r,o]=await Promise.all([n(e.auth.prefix),n(e.auth.value)]);if(!o)return t;t.authorization=`${null!=r?r:""} ${o}`}}return t},en=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function er(e){if(void 0===e)return!1;let t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===t||"object"===t&&(!!Array.isArray(e)||!e.buffer&&(e.constructor&&"Object"===e.constructor.name||"function"==typeof e.toJSON))}function eo(e){try{return JSON.parse(e)}catch(t){return e}}function ei(e){return"function"==typeof e}async function es(e){let t=new Headers(null==e?void 0:e.headers);for(let[n,r]of Object.entries(await et(e)||{}))t.set(n,r);if(!t.has("content-type")){let n=er(null==e?void 0:e.body)?"application/json":null;n&&t.set("content-type",n)}return t}var el=class e extends Error{constructor(t,n){super(n||JSON.stringify(t,null,2)),this.issues=t,Object.setPrototypeOf(this,e.prototype)}};async function ea(e,t){let n=await e["~standard"].validate(t);if(n.issues)throw new el(n.issues);return n.value}var eu=["get","post","put","patch","delete"],ec=async(e,t)=>{var n,r,o,i,s,l,a,u;let c,{hooks:f,url:d,options:p}=await Z(e,t),h=function(e){if(null==e?void 0:e.customFetchImpl)return e.customFetchImpl;if("undefined"!=typeof globalThis&&ei(globalThis.fetch))return globalThis.fetch;if("undefined"!=typeof window&&ei(window.fetch))return window.fetch;throw Error("No fetch implementation found")}(p),y=new AbortController,v=null!=(n=p.signal)?n:y.signal,g=function(e,t){let{baseURL:n,params:r,query:o}=t||{query:{},params:{},baseURL:""},i=e.startsWith("http")?e.split("/").slice(0,3).join("/"):n||"";if(e.startsWith("@")){let t=e.toString().split("@")[1].split("/")[0];eu.includes(t)&&(e=e.replace(`@${t}/`,"/"))}i.endsWith("/")||(i+="/");let[s,l]=e.replace(i,"").split("?"),a=new URLSearchParams(l);for(let[e,t]of Object.entries(o||{})){let n;if(null!=t){if("string"==typeof t)n=t;else if(Array.isArray(t)){for(let n of t)a.append(e,n);continue}else n=JSON.stringify(t);a.set(e,n)}}if(r)if(Array.isArray(r))for(let[e,t]of s.split("/").filter(e=>e.startsWith(":")).entries()){let n=r[e];s=s.replace(t,n)}else for(let[e,t]of Object.entries(r))s=s.replace(`:${e}`,String(t));(s=s.split("/").map(encodeURIComponent).join("/")).startsWith("/")&&(s=s.slice(1));let u=a.toString();return(u=u.length>0?`?${u}`.replace(/\+/g,"%20"):"",i.startsWith("http"))?new URL(`${s}${u}`,i):`${i}${s}${u}`}(d,p),b=function(e){if(!(null==e?void 0:e.body))return null;let t=new Headers(null==e?void 0:e.headers);if(er(e.body)&&!t.has("content-type")){for(let[t,n]of Object.entries(null==e?void 0:e.body))n instanceof Date&&(e.body[t]=n.toISOString());return JSON.stringify(e.body)}return t.has("content-type")&&"application/x-www-form-urlencoded"===t.get("content-type")&&er(e.body)?new URLSearchParams(e.body).toString():e.body}(p),m=await es(p),w=function(e,t){var n;if(null==t?void 0:t.method)return t.method.toUpperCase();if(e.startsWith("@")){let r=null==(n=e.split("@")[1])?void 0:n.split("/")[0];return eu.includes(r)?r.toUpperCase():(null==t?void 0:t.body)?"POST":"GET"}return(null==t?void 0:t.body)?"POST":"GET"}(d,p),E=Y(z({},p),{url:g,headers:m,body:b,method:w,signal:v});for(let e of f.onRequest)if(e){let t=await e(E);"object"==typeof t&&null!==t&&(E=t)}("pipeTo"in E&&"function"==typeof E.pipeTo||"function"==typeof(null==(r=null==t?void 0:t.body)?void 0:r.pipe))&&!("duplex"in E)&&(E.duplex="half");let{clearTimeout:T}=(!(null==p?void 0:p.signal)&&(null==p?void 0:p.timeout)&&(c=setTimeout(()=>null==y?void 0:y.abort(),null==p?void 0:p.timeout)),{abortTimeout:c,clearTimeout:()=>{c&&clearTimeout(c)}}),R=await h(E.url,E);T();let O={response:R,request:E};for(let e of f.onResponse)if(e){let n=await e(Y(z({},O),{response:(null==(o=null==t?void 0:t.hookOptions)?void 0:o.cloneResponse)?R.clone():R}));n instanceof Response?R=n:"object"==typeof n&&null!==n&&(R=n.response)}if(R.ok){if("HEAD"===E.method)return{data:"",error:null};let e=function(e){let t=e.headers.get("content-type"),n=new Set(["image/svg","application/xml","application/xhtml","application/html"]);if(!t)return"json";let r=t.split(";").shift()||"";return en.test(r)?"json":n.has(r)||r.startsWith("text/")?"text":"blob"}(R),n={data:null,response:R,request:E};if("json"===e||"text"===e){let e=await R.text(),t=null!=(i=E.jsonParser)?i:eo;n.data=await t(e)}else n.data=await R[e]();for(let e of((null==E?void 0:E.output)&&E.output&&!E.disableValidation&&(n.data=await ea(E.output,n.data)),f.onSuccess))e&&await e(Y(z({},n),{response:(null==(s=null==t?void 0:t.hookOptions)?void 0:s.cloneResponse)?R.clone():R}));return(null==t?void 0:t.throw)?n.data:{data:n.data,error:null}}let S=null!=(l=null==t?void 0:t.jsonParser)?l:eo,_=await R.text(),P=function(e){try{return JSON.parse(e),!0}catch(e){return!1}}(_),L=P?await S(_):null,A={response:R,responseText:_,request:E,error:Y(z({},L),{status:R.status,statusText:R.statusText})};for(let e of f.onError)e&&await e(Y(z({},A),{response:(null==(a=null==t?void 0:t.hookOptions)?void 0:a.cloneResponse)?R.clone():R}));if(null==t?void 0:t.retry){let n=function(e){if("number"==typeof e)return new Q({type:"linear",attempts:e,delay:1e3});switch(e.type){case"linear":return new Q(e);case"exponential":return new ee(e);default:throw Error("Invalid retry strategy")}}(t.retry),r=null!=(u=t.retryAttempt)?u:0;if(await n.shouldAttemptRetry(r,R)){for(let e of f.onRetry)e&&await e(O);let o=n.getDelay(r);return await new Promise(e=>setTimeout(e,o)),await ec(e,Y(z({},t),{retryAttempt:r+1}))}}if(null==t?void 0:t.throw)throw new X(R.status,R.statusText,P?L:_);return{data:null,error:Y(z({},L),{status:R.status,statusText:R.statusText})}},ef=e.i(4726);let ed=function(e){var t;let{pluginPathMethods:n,pluginsActions:r,pluginsAtoms:o,$fetch:i,$store:l,atomListeners:a}=((e,t)=>{var n;let r,o,i="credentials"in Request.prototype,l=function(e,t,n,r,o){if(e)return w(e,t);if(!1!==r){let e=s.BETTER_AUTH_URL||s.NEXT_PUBLIC_BETTER_AUTH_URL||s.PUBLIC_BETTER_AUTH_URL||s.NUXT_PUBLIC_BETTER_AUTH_URL||s.NUXT_PUBLIC_AUTH_URL||("/"!==s.BASE_URL?s.BASE_URL:void 0);if(e)return w(e,t)}n?.headers.get("x-forwarded-host"),n?.headers.get("x-forwarded-proto");if(n){let e=function(e){try{let t=new URL(e);return"null"===t.origin?null:t.origin}catch{return null}}(n.url);if(!e)throw new m("Could not get origin from request. Please provide a valid base URL.");return w(e,t)}if("undefined"!=typeof window&&window.location)return w(window.location.origin,t)}(e?.baseURL,e?.basePath,void 0,void 0)??"/api/auth",a=e?.plugins?.flatMap(e=>e.fetchPlugins).filter(e=>void 0!==e)||[],u={id:"lifecycle-hooks",name:"lifecycle-hooks",hooks:{onSuccess:e?.fetchOptions?.onSuccess,onError:e?.fetchOptions?.onError,onRequest:e?.fetchOptions?.onRequest,onResponse:e?.fetchOptions?.onResponse}},{onSuccess:c,onError:f,onRequest:d,onResponse:p,...h}=e?.fetchOptions||{},y=(n={baseURL:l,...i?{credentials:"include"}:{},method:"GET",jsonParser:e=>e?function(e,t={strict:!0}){return function(e,t={}){let{strict:n=!1,warnings:r=!1,reviver:o,parseDates:i=!0}=t;if("string"!=typeof e)return e;let s=e.trim();if(s.length>0&&'"'===s[0]&&s.endsWith('"')&&!s.slice(1,-1).includes('"'))return s.slice(1,-1);let l=s.toLowerCase();if(l.length<=9&&l in O)return O[l];if(!R.test(s)){if(n)throw SyntaxError("[better-json] Invalid JSON");return e}if(Object.entries(T).some(([e,t])=>{let n=t.test(s);return n&&r&&console.warn(`[better-json] Detected potential prototype pollution attempt using ${e} pattern`),n})&&n)throw Error("[better-json] Potential prototype pollution attempt detected");try{return JSON.parse(s,(e,t)=>{if("__proto__"===e||"constructor"===e&&t&&"object"==typeof t&&"prototype"in t){r&&console.warn(`[better-json] Dropping "${e}" key to prevent prototype pollution`);return}if(i&&"string"==typeof t){let e=function(e){let t=S.exec(e);if(!t)return null;let[,n,r,o,i,s,l,a,u,c,f]=t,d=new Date(Date.UTC(parseInt(n,10),parseInt(r,10)-1,parseInt(o,10),parseInt(i,10),parseInt(s,10),parseInt(l,10),a?parseInt(a.padEnd(3,"0"),10):0));if(u){let e=(60*parseInt(c,10)+parseInt(f,10))*("+"===u?-1:1);d.setUTCMinutes(d.getUTCMinutes()+e)}return d instanceof Date&&!isNaN(d.getTime())?d:null}(t);if(e)return e}return o?o(e,t):t})}catch(t){if(n)throw t;return e}}(e,t)}(e,{strict:!1}):null,customFetchImpl:fetch,...h,plugins:[u,...h.plugins||[],...e?.disableDefaultFetchPlugins?[]:[E],...a]},async function(e,t){let r,o=Y(z(z({},n),t),{plugins:[...(null==n?void 0:n.plugins)||[],(r=n||{},{id:"apply-schema",name:"Apply Schema",version:"1.0.0",async init(e,t){var n,o,i,s;let l=(null==(o=null==(n=r.plugins)?void 0:n.find(t=>{var n;return null!=(n=t.schema)&&!!n.config&&(e.startsWith(t.schema.config.baseURL||"")||e.startsWith(t.schema.config.prefix||""))}))?void 0:o.schema)||r.schema;if(l){let n=e;(null==(i=l.config)?void 0:i.prefix)&&n.startsWith(l.config.prefix)&&(n=n.replace(l.config.prefix,""),l.config.baseURL&&(e=e.replace(l.config.prefix,l.config.baseURL))),(null==(s=l.config)?void 0:s.baseURL)&&n.startsWith(l.config.baseURL)&&(n=n.replace(l.config.baseURL,""));let r=l.schema[n];if(r){let n=Y(z({},t),{method:r.method,output:r.output});return(null==t?void 0:t.disableValidation)||(n=Y(z({},n),{body:r.input?await ea(r.input,null==t?void 0:t.body):null==t?void 0:t.body,params:r.params?await ea(r.params,null==t?void 0:t.params):null==t?void 0:t.params,query:r.query?await ea(r.query,null==t?void 0:t.query):null==t?void 0:t.query})),{url:e,options:n}}}return{url:e,options:t}}}),...(null==t?void 0:t.plugins)||[]]});if(null==n?void 0:n.catchAllError)try{return await ec(e,o)}catch(e){return{data:null,error:{status:500,statusText:"Fetch Error",message:"Fetch related error. Captured by catchAllError option. See error property for more details.",error:e}}}return await ec(e,o)}),{$sessionSignal:v,session:g}=(o=((e,t,n,r)=>{let o=A({data:null,error:null,isPending:!0,isRefetching:!1,refetch:e=>i(e)}),i=async e=>new Promise(i=>{let s="function"==typeof r?r({data:o.get().data,error:o.get().error,isPending:o.get().isPending}):r;n(t,{...s,query:{...s?.query,...e?.query},async onSuccess(e){o.set({data:e.data,error:null,isPending:!1,isRefetching:!1,refetch:o.value.refetch}),await s?.onSuccess?.(e)},async onError(e){let{request:t}=e,n="number"==typeof t.retry?t.retry:t.retry?.attempts,r=t.retryAttempt||0;n&&r<n||(o.set({error:e.error,data:null,isPending:!1,isRefetching:!1,refetch:o.value.refetch}),await s?.onError?.(e))},async onRequest(e){let t=o.get();o.set({isPending:null===t.data,data:t.data,error:null,isRefetching:!0,refetch:o.value.refetch}),await s?.onRequest?.(e)}}).catch(e=>{o.set({error:e,data:null,isPending:!1,isRefetching:!1,refetch:o.value.refetch})}).finally(()=>{i(void 0)})});e=Array.isArray(e)?e:[e];let s=!1;for(let t of e)t.subscribe(async()=>{I()||(s?await i():U(o,()=>{let e=setTimeout(async()=>{s||(await i(),s=!0)},0);return()=>{o.off(),t.off(),clearTimeout(e)}}))});return o})(r=A(!1),"/get-session",y,{method:"GET"}),U(o,()=>{let t=function(e){let{sessionAtom:t,sessionSignal:n,$fetch:r,options:o={}}=e,i=o.sessionOptions?.refetchInterval??0,s=o.sessionOptions?.refetchOnWindowFocus??!0,l=o.sessionOptions?.refetchWhenOffline??!1,a={lastSync:0,lastSessionRequest:0,cachedSession:void 0},u=e=>{if(!(l||D().isOnline))return;if(e?.event==="storage"){a.lastSync=q(),n.set(!n.get());return}let o=t.get();if(e?.event==="poll"){a.lastSessionRequest=q(),r("/get-session").then(e=>{e.error?t.set({...o,data:null,error:e.error}):t.set({...o,data:e.data,error:null}),a.lastSync=q(),n.set(!n.get())}).catch(()=>{});return}e?.event==="visibilitychange"&&q()-a.lastSessionRequest<5&&o?.data!==null&&o?.data!==void 0||(o?.data===null||o?.data===void 0||e?.event==="visibilitychange")&&(e?.event==="visibilitychange"&&(a.lastSessionRequest=q()),a.lastSync=q(),n.set(!n.get()))};return{init:()=>{i&&i>0&&(a.pollInterval=setInterval(()=>{t.get()?.data&&u({event:"poll"})},1e3*i)),a.unsubscribeBroadcast=C().subscribe(()=>{u({event:"storage"})}),s&&(a.unsubscribeFocus=M().subscribe(()=>{u({event:"visibilitychange"})})),a.unsubscribeOnline=D().subscribe(e=>{e&&u({event:"visibilitychange"})}),C().setup(),M().setup(),D().setup()},cleanup:()=>{a.pollInterval&&(clearInterval(a.pollInterval),a.pollInterval=void 0),a.unsubscribeBroadcast&&(a.unsubscribeBroadcast(),a.unsubscribeBroadcast=void 0),a.unsubscribeFocus&&(a.unsubscribeFocus(),a.unsubscribeFocus=void 0),a.unsubscribeOnline&&(a.unsubscribeOnline(),a.unsubscribeOnline=void 0),a.lastSync=0,a.lastSessionRequest=0,a.cachedSession=void 0},triggerRefetch:u,broadcastSessionUpdate:e=>{C().post({event:"session",data:{trigger:e},clientId:Math.random().toString(36).substring(7)})}}}({sessionAtom:o,sessionSignal:r,$fetch:y,options:e});return t.init(),()=>{t.cleanup()}}),{session:o,$sessionSignal:r}),b=e?.plugins||[],_={},P={$sessionSignal:v,session:g},L={"/sign-out":"POST","/revoke-sessions":"POST","/revoke-other-sessions":"POST","/delete-user":"POST"},x=[{signal:"$sessionSignal",matcher:e=>"/sign-out"===e||"/update-user"===e||"/sign-up/email"===e||"/sign-in/email"===e||"/delete-user"===e||"/verify-email"===e||"/revoke-sessions"===e||"/revoke-session"===e||"/change-email"===e}];for(let e of b)e.getAtoms&&Object.assign(P,e.getAtoms?.(y)),e.pathMethods&&Object.assign(L,e.pathMethods),e.atomListeners&&x.push(...e.atomListeners);let j={notify:e=>{P[e].set(!P[e].get())},listen:(e,t)=>{P[e].subscribe(t)},atoms:P};for(let t of b)t.getActions&&Object.assign(_,t.getActions?.(y,j,e));return{get baseURL(){return l},pluginsActions:_,pluginsAtoms:P,pluginPathMethods:L,atomListeners:x,$fetch:y,$store:j}})(e),u={};for(let[e,t]of Object.entries(o))u[function(e){return`use${e.charAt(0).toUpperCase()+e.slice(1)}`}(e)]=()=>(function(e,t={}){let n=(0,ef.useRef)(e.get()),{keys:r,deps:o=[e,r]}=t,i=(0,ef.useCallback)(t=>{let o=e=>{n.current!==e&&(n.current=e,t())};if(o(e.value),r?.length){let t;return t=new Set(r).add(void 0),e.listen((e,n,r)=>{t.has(r)&&o(e,n,r)})}return e.listen(o)},o),s=()=>n.current;return(0,ef.useSyncExternalStore)(i,s,s)})(t);return t={...r,...u,$fetch:i,$store:l},function e(r=[]){return new Proxy(function(){},{get(n,o){var i;if("string"!=typeof o||"then"===o||"catch"===o||"finally"===o)return;let s=[...r,o],l=t;for(let e of s)if(l&&"object"==typeof l&&e in l)l=l[e];else{l=void 0;break}return"function"==typeof l?l:"object"==typeof(i=l)&&null!==i&&"get"in i&&"function"==typeof i.get&&"lc"in i&&"number"==typeof i.lc?l:e(s)},apply:async(e,t,s)=>{let l="/"+r.map(e=>e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)).join("/"),u=s[0]||{},c=s[1]||{},{query:f,fetchOptions:d,...p}=u,h={...c,...d},y=function(e,t,n){let r=t[e],{fetchOptions:o,query:i,...s}=n||{};return r||(o?.method?o.method:s&&Object.keys(s).length>0?"POST":"GET")}(l,n,u);return await i(l,{...h,body:"GET"===y?void 0:{...p,...h?.body||{}},query:f||h?.query,method:y,async onSuccess(e){if(await h?.onSuccess?.(e),!a||h.disableSignal)return;let t=a.filter(e=>e.matcher(l));if(t.length)for(let e of t){let t=o[e.signal];if(!t)return;let n=t.get();setTimeout(()=>{t.set(!n)},10)}}})}})}()}({baseURL:r.default.env.BETTER_AUTH_URL||"http://localhost:3000"});async function ep(){let e=await ed.getSession();return e?.data?.session?.accessToken||null}async function eh(){let e=await ed.getSession();return!!e?.data?.user}async function ey(){let e=await ed.getSession();return e?.data?.user?.id||null}async function ev(){await ed.signOut(),window.location.href="/signin"}e.s(["authClient",0,ed,"getCurrentUserId",()=>ey,"getToken",()=>ep,"isAuthenticated",()=>eh,"signOut",()=>ev],16867)},35778,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={assign:function(){return a},searchParamsToUrlQuery:function(){return i},urlQueryToSearchParams:function(){return l}};for(var o in r)Object.defineProperty(n,o,{enumerable:!0,get:r[o]});function i(e){let t={};for(let[n,r]of e.entries()){let e=t[n];void 0===e?t[n]=r:Array.isArray(e)?e.push(r):t[n]=[e,r]}return t}function s(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function l(e){let t=new URLSearchParams;for(let[n,r]of Object.entries(e))if(Array.isArray(r))for(let e of r)t.append(n,s(e));else t.set(n,s(r));return t}function a(e,...t){for(let n of t){for(let t of n.keys())e.delete(t);for(let[t,r]of n.entries())e.append(t,r)}return e}},67158,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={formatUrl:function(){return l},formatWithValidation:function(){return u},urlObjectKeys:function(){return a}};for(var o in r)Object.defineProperty(n,o,{enumerable:!0,get:r[o]});let i=e.r(69400)._(e.r(35778)),s=/https?|ftp|gopher|file/;function l(e){let{auth:t,hostname:n}=e,r=e.protocol||"",o=e.pathname||"",l=e.hash||"",a=e.query||"",u=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?u=t+e.host:n&&(u=t+(~n.indexOf(":")?`[${n}]`:n),e.port&&(u+=":"+e.port)),a&&"object"==typeof a&&(a=String(i.urlQueryToSearchParams(a)));let c=e.search||a&&`?${a}`||"";return r&&!r.endsWith(":")&&(r+=":"),e.slashes||(!r||s.test(r))&&!1!==u?(u="//"+(u||""),o&&"/"!==o[0]&&(o="/"+o)):u||(u=""),l&&"#"!==l[0]&&(l="#"+l),c&&"?"!==c[0]&&(c="?"+c),o=o.replace(/[?#]/g,encodeURIComponent),c=c.replace("#","%23"),`${r}${u}${o}${c}${l}`}let a=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function u(e){return l(e)}},7346,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useMergedRef",{enumerable:!0,get:function(){return o}});let r=e.r(4726);function o(e,t){let n=(0,r.useRef)(null),o=(0,r.useRef)(null);return(0,r.useCallback)(r=>{if(null===r){let e=n.current;e&&(n.current=null,e());let t=o.current;t&&(o.current=null,t())}else e&&(n.current=i(e,r)),t&&(o.current=i(t,r))},[e,t])}function i(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let n=e(t);return"function"==typeof n?n:()=>e(null)}}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},97768,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={DecodeError:function(){return g},MiddlewareNotFoundError:function(){return E},MissingStaticPage:function(){return w},NormalizeError:function(){return b},PageNotFoundError:function(){return m},SP:function(){return y},ST:function(){return v},WEB_VITALS:function(){return i},execOnce:function(){return s},getDisplayName:function(){return f},getLocationOrigin:function(){return u},getURL:function(){return c},isAbsoluteUrl:function(){return a},isResSent:function(){return d},loadGetInitialProps:function(){return h},normalizeRepeatedSlashes:function(){return p},stringifyError:function(){return T}};for(var o in r)Object.defineProperty(n,o,{enumerable:!0,get:r[o]});let i=["CLS","FCP","FID","INP","LCP","TTFB"];function s(e){let t,n=!1;return(...r)=>(n||(n=!0,t=e(...r)),t)}let l=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,a=e=>l.test(e);function u(){let{protocol:e,hostname:t,port:n}=window.location;return`${e}//${t}${n?":"+n:""}`}function c(){let{href:e}=window.location,t=u();return e.substring(t.length)}function f(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function d(e){return e.finished||e.headersSent}function p(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function h(e,t){let n=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await h(t.Component,t.ctx)}:{};let r=await e.getInitialProps(t);if(n&&d(n))return r;if(!r)throw Object.defineProperty(Error(`"${f(e)}.getInitialProps()" should resolve to an object. But found "${r}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return r}let y="undefined"!=typeof performance,v=y&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class g extends Error{}class b extends Error{}class m extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class w extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class E extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function T(e){return JSON.stringify({message:e.message,stack:e.stack})}},9176,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"isLocalURL",{enumerable:!0,get:function(){return i}});let r=e.r(97768),o=e.r(75885);function i(e){if(!(0,r.isAbsoluteUrl)(e))return!0;try{let t=(0,r.getLocationOrigin)(),n=new URL(e,t);return n.origin===t&&(0,o.hasBasePath)(n.pathname)}catch(e){return!1}}},61976,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"errorOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},90729,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={default:function(){return g},useLinkStatus:function(){return m}};for(var o in r)Object.defineProperty(n,o,{enumerable:!0,get:r[o]});let i=e.r(69400),s=e.r(3069),l=i._(e.r(4726)),a=e.r(67158),u=e.r(68965),c=e.r(7346),f=e.r(97768),d=e.r(88417);e.r(19344);let p=e.r(90746),h=e.r(9176),y=e.r(84076);function v(e){return"string"==typeof e?e:(0,a.formatUrl)(e)}function g(t){var n;let r,o,i,[a,g]=(0,l.useOptimistic)(p.IDLE_LINK_STATUS),m=(0,l.useRef)(null),{href:w,as:E,children:T,prefetch:R=null,passHref:O,replace:S,shallow:_,scroll:P,onClick:L,onMouseEnter:A,onTouchStart:U,legacyBehavior:I=!1,onNavigate:x,ref:j,unstable_dynamicOnHover:C,...N}=t;r=T,I&&("string"==typeof r||"number"==typeof r)&&(r=(0,s.jsx)("a",{children:r}));let $=l.default.useContext(u.AppRouterContext),M=!1!==R,k=!1!==R?null===(n=R)||"auto"===n?y.FetchStrategy.PPR:y.FetchStrategy.Full:y.FetchStrategy.PPR,{href:B,as:D}=l.default.useMemo(()=>{let e=v(w);return{href:e,as:E?v(E):e}},[w,E]);if(I){if(r?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});o=l.default.Children.only(r)}let q=I?o&&"object"==typeof o&&o.ref:j,F=l.default.useCallback(e=>(null!==$&&(m.current=(0,p.mountLinkInstance)(e,B,$,k,M,g)),()=>{m.current&&((0,p.unmountLinkForCurrentNavigation)(m.current),m.current=null),(0,p.unmountPrefetchableInstance)(e)}),[M,B,$,k,g]),H={ref:(0,c.useMergedRef)(F,q),onClick(t){I||"function"!=typeof L||L(t),I&&o.props&&"function"==typeof o.props.onClick&&o.props.onClick(t),!$||t.defaultPrevented||function(t,n,r,o,i,s,a){if("undefined"!=typeof window){let u,{nodeName:c}=t.currentTarget;if("A"===c.toUpperCase()&&((u=t.currentTarget.getAttribute("target"))&&"_self"!==u||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,h.isLocalURL)(n)){i&&(t.preventDefault(),location.replace(n));return}if(t.preventDefault(),a){let e=!1;if(a({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:f}=e.r(60598);l.default.startTransition(()=>{f(r||n,i?"replace":"push",s??!0,o.current)})}}(t,B,D,m,S,P,x)},onMouseEnter(e){I||"function"!=typeof A||A(e),I&&o.props&&"function"==typeof o.props.onMouseEnter&&o.props.onMouseEnter(e),$&&M&&(0,p.onNavigationIntent)(e.currentTarget,!0===C)},onTouchStart:function(e){I||"function"!=typeof U||U(e),I&&o.props&&"function"==typeof o.props.onTouchStart&&o.props.onTouchStart(e),$&&M&&(0,p.onNavigationIntent)(e.currentTarget,!0===C)}};return(0,f.isAbsoluteUrl)(D)?H.href=D:I&&!O&&("a"!==o.type||"href"in o.props)||(H.href=(0,d.addBasePath)(D)),i=I?l.default.cloneElement(o,H):(0,s.jsx)("a",{...N,...H,children:r}),(0,s.jsx)(b.Provider,{value:a,children:i})}e.r(61976);let b=(0,l.createContext)(p.IDLE_LINK_STATUS),m=()=>(0,l.useContext)(b);("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)}]);